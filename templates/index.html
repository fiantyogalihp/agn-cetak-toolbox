<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>{{.Title}}</title>

    <!-- <link rel="stylesheet" href="/static/style.css" /> -->
    <link href="/static/output.css" rel="stylesheet">
    <script src="https://unpkg.com/htmx.org"></script>
  </head>

  <body>
    <div class="container w-screen max-w-none h-screen bg-[#0F172A] justify-center ">
      <div class="flex py-6 justify-center ">
        <!-- RADIO BUTTONS -->
        <div hx-get="/v1/components/screen-choice" hx-trigger="load" hx-swap="outerHTML"></div>
      </div>
      <div class="flex w-full gap-6 px-6">
        <div class="w-1/2 flex flex-col justify-center items-start relative">
          <label class="block font-medium text-[#38BDF8] mb-2">Contoh response :</label>
          <div class="w-full relative rounded-lg bg-[#1E293B] outline outline-1 -outline-offset-1 outline-gray-300 focus-within:outline focus-within:outline-2 focus-within:-outline-offset-2 focus-within:outline-cyan-600">
            <textarea rows="10" id="description" class="description textToCopy w-full rounded-lg  resize-none px-3 py-1.5 text-base text-white placeholder:text-gray-400 focus:outline focus:outline-0 sm:text-sm/6" placeholder="Write a description..."
            hx-post="/v1/validate/json/source"
            hx-trigger="input changed delay:500ms, keyup[key=='Enter']"
            onkeydown="if (event.key === 'Enter') { event.preventDefault(); }"
            hx-include="[name='screen-choice']:checked"
            hx-target="#response-contoh"
            hx-swap="outerHTML"></textarea>
          
            <!-- Button -->
              <button type="button"  class="btn-copy absolute bottom-2 right-12 cursor-pointer  inline-flex items-center rounded-md px-2 py-2 text-sm font-medium bg-[#1E293B] text-black hover:bg-gray-700">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5 text-slate-300">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75" />
                </svg>
              </button>
              <button type="button" id="fullscreen-btn" class="absolute bottom-2 right-2 cursor-pointer  inline-flex items-center rounded-md px-2 py-2 text-sm font-medium bg-[#1E293B] text-black hover:bg-gray-700">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5 text-slate-300">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15" />
                </svg>                  
              </button>
            <!-- End Button -->
          </div>
        </div>
        <div class="w-1/2 flex flex-col justify-center items-start relative">
          <label class="block text-sm font-medium text-[#38BDF8] mb-2">Update response :</label>
          <div class="w-full relative rounded-lg bg-[#1E293B] outline outline-1 -outline-offset-1 outline-gray-300 focus-within:outline focus-within:outline-2 focus-within:-outline-offset-2 focus-within:outline-cyan-600">
            <textarea rows="10" id="description" class="description textToCopy w-full resize-none px-3 py-1.5 text-base text-white placeholder:text-gray-400 focus:outline focus:outline-0 sm:text-sm/6" placeholder="Write a description..." 
            hx-post="/v1/validate/json/destination"
            hx-trigger="input changed delay:500ms, keyup[key=='Enter']"
            onkeydown="if (event.key === 'Enter') { event.preventDefault(); }"
            hx-include="[name='screen-choice']:checked"
            hx-target="#response-update"
            hx-swap="outerHTML"></textarea>
          
            <!-- Button -->
            <button type="button"  class="btn-copy absolute bottom-2 right-12 cursor-pointer  inline-flex items-center rounded-md px-2 py-2 text-sm font-medium bg-[#1E293B] text-black hover:bg-gray-700">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5 text-slate-300">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75" />
              </svg>
            </button>
            <button type="button" id="fullscreen-btn" class="absolute bottom-2 right-2 cursor-pointer  inline-flex items-center rounded-md px-2 py-2 text-sm font-medium bg-[#1E293B] text-black hover:bg-gray-700">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5 text-slate-300">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15" />
              </svg>                  
            </button>
            <!-- End Button -->
          </div>
        </div>
      </div>
      <!-- Button Submit, Cancel & Clear -->
      <div class="flex w-full px-6 mt-4 justify-start">
        <span class="isolate inline-flex rounded-md shadow-sm">
          <button type="button" name="submit"  
                  hx-post="/print-json"
                  hx-trigger="click"
                  hx-include="[name='screen-choice']:checked, [name='contoh-response'], [name='update-response']"
                  hx-target="#response-print"
                  hx-swap="outerHTML" 
                  class="relative cursor-pointer inline-flex items-center rounded-l-md bg-sky-500 px-3 py-2 text-sm font-semibold text-white ring-1 ring-inset ring-gray-300 hover:bg-sky-600 focus:z-10">Submit</button>
          <button type="button" class="relative cursor-pointer -ml-px inline-flex items-center bg-sky-500 px-3 py-2 text-sm font-semibold text-white ring-1 ring-inset ring-gray-300 hover:bg-sky-600 focus:z-10">Cancel</button>
          <button type="button" id="clear-btn" class="relative cursor-pointer -ml-px inline-flex items-center rounded-r-md bg-sky-500 px-3 py-2 text-sm font-semibold text-white ring-1 ring-inset ring-gray-300 hover:bg-sky-600 focus:z-10">Clear</button>
        </span>
      </div>
      <!-- End Button -->
      
      
      
    </div>
  </body>
  <script>
    // document.getElementById("btn-copy").addEventListener("click", function () {
    //         let textToCopy = document.getElementById("textToCopy");
    //         textToCopy.select();
    //         document.execCommand("copy");

    //         alert("Teks berhasil disalin!");
    //     });

        document.querySelectorAll(".btn-copy").forEach((button, index) => {
          button.addEventListener("click", function () {
          let textAreas = document.querySelectorAll(".textToCopy");
          let textToCopy = textAreas[index]; // Pilih textarea yang sesuai dengan tombol
        
          textToCopy.select();
          document.execCommand("copy");

          alert("Teks berhasil disalin!");
          });
        });

      // Clear
      document.getElementById("clear-btn").addEventListener("click", function() {
    document.querySelectorAll(".description").forEach(textarea => {
      textarea.value = "";
    });
  });


  </script>
</html>
